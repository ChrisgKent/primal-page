{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"]},"docs":[{"location":"","title":"primal-page","text":"<p><code>primal-page</code> is a python tool for creating and modifying metadata for primerschemes according to the schema used in labs.</p>"},{"location":"#installation","title":"Installation","text":""},{"location":"#via-pip","title":"via pip","text":"<pre><code>pip install primal-page\n\n# To run\nprimal-page\n</code></pre>"},{"location":"#from-source","title":"from source","text":"<pre><code>git clone https://github.com/ChrisgKent/primal-page.git\ncd primal-page\npoetry build\n\n# To run \npoetry run primal-page\n</code></pre>"},{"location":"#overview","title":"Overview","text":""},{"location":"#create","title":"create","text":"<p>To create the metadata file, use <code>primal-page create</code>, which will ask for required data to create the metadata file. For a more details please see examples page or the cli.</p>"},{"location":"#modify","title":"modify","text":"<p>Once the metadata files are generated, they can be modified with <code>primal-page modify</code> and the appropriate option.</p> <p>Do not modify the files manually see. </p>"},{"location":"#aliases","title":"aliases","text":"<p>Aliases are a way to provide alternative names for a schemename. For example, the schemename <code>hbv</code> (from <code>hbv/600.v2.1.0</code>) scheme has the aliases of <code>hepatitis-b-virus</code>:<code>hbv</code>.  </p> <p>This is currently used for;</p> <ul> <li>The searchbar in labs. So Searching for <code>hepatitis</code> will provide <code>hbv/600.v2.1.0</code></li> <li>Backwards compatibility. The <code>ncoV-2019</code> schemes are renamed <code>artic-sars-cov-2</code>, so we want to ensure that <code>ncoV-2019/400/v5.3.2</code> points to the correct scheme.</li> </ul>"},{"location":"cli/","title":"<code>primal-page</code>","text":"<p>Usage:</p> <pre><code>$ primal-page [OPTIONS] COMMAND [ARGS]...\n</code></pre> <p>Options:</p> <ul> <li><code>--version</code></li> <li><code>--install-completion</code>: Install completion for the current shell.</li> <li><code>--show-completion</code>: Show completion for the current shell, to copy it or customize the installation.</li> <li><code>--help</code>: Show this message and exit.</li> </ul> <p>Commands:</p> <ul> <li><code>aliases</code>: Manage aliases</li> <li><code>build-index</code>: Build an index.json file from all schemes...</li> <li><code>create</code>: Create a new scheme in the required format</li> <li><code>dev</code>: Development commands</li> <li><code>download</code>: Download schemes from the index.json</li> <li><code>modify</code>: Modify an existing scheme's metadata...</li> <li><code>remove</code>: Remove a scheme's version from the repo,...</li> </ul>"},{"location":"cli/#primal-page-aliases","title":"<code>primal-page aliases</code>","text":"<p>Manage aliases</p> <p>Usage:</p> <pre><code>$ primal-page aliases [OPTIONS] COMMAND [ARGS]...\n</code></pre> <p>Options:</p> <ul> <li><code>--help</code>: Show this message and exit.</li> </ul> <p>Commands:</p> <ul> <li><code>add</code>: Add an alias:schemename to the alias file</li> <li><code>remove</code>: Remove an alias from the alias file.</li> </ul>"},{"location":"cli/#primal-page-aliases-add","title":"<code>primal-page aliases add</code>","text":"<p>Add an alias:schemename to the alias file</p> <p>Usage:</p> <pre><code>$ primal-page aliases add [OPTIONS] ALIASES_FILE ALIAS SCHEMENAME\n</code></pre> <p>Arguments:</p> <ul> <li><code>ALIASES_FILE</code>: The path to the alias file to write to  [required]</li> <li><code>ALIAS</code>: The alias to add  [required]</li> <li><code>SCHEMENAME</code>: The schemename the alias refers to  [required]</li> </ul> <p>Options:</p> <ul> <li><code>--help</code>: Show this message and exit.</li> </ul>"},{"location":"cli/#primal-page-aliases-remove","title":"<code>primal-page aliases remove</code>","text":"<p>Remove an alias from the alias file. Does nothing if the alias does not exist</p> <p>Usage:</p> <pre><code>$ primal-page aliases remove [OPTIONS] ALIASES_FILE ALIAS\n</code></pre> <p>Arguments:</p> <ul> <li><code>ALIASES_FILE</code>: The path to the alias file to write to  [required]</li> <li><code>ALIAS</code>: The alias to add  [required]</li> </ul> <p>Options:</p> <ul> <li><code>--help</code>: Show this message and exit.</li> </ul>"},{"location":"cli/#primal-page-build-index","title":"<code>primal-page build-index</code>","text":"<p>Build an index.json file from all schemes in the directory</p> <p>Usage:</p> <pre><code>$ primal-page build-index [OPTIONS]\n</code></pre> <p>Options:</p> <ul> <li><code>--gitaccount TEXT</code>: The name of the github account  [default: quick-lab]</li> <li><code>--gitserver TEXT</code>: The name of the github server  [default: https://github.com/]</li> <li><code>--parentdir PATH</code>: The parent directory  [default: .]</li> <li><code>--git-commit-sha TEXT</code>: The git commit</li> <li><code>--force / --no-force</code>: Force the creation of the index.json  [default: no-force]</li> <li><code>--help</code>: Show this message and exit.</li> </ul>"},{"location":"cli/#primal-page-create","title":"<code>primal-page create</code>","text":"<p>Create a new scheme in the required format</p> <p>Usage:</p> <pre><code>$ primal-page create [OPTIONS] SCHEMEPATH\n</code></pre> <p>Arguments:</p> <ul> <li><code>SCHEMEPATH</code>: The path to the primerscheme directory  [required]</li> </ul> <p>Options:</p> <ul> <li><code>--schemename TEXT</code>: The name of the scheme  [required]</li> <li><code>--ampliconsize INTEGER RANGE</code>: Amplicon size  [x&gt;=100; required]</li> <li><code>--schemeversion TEXT</code>: Scheme version, default is parsed from config.json  [required]</li> <li><code>--species INTEGER</code>: The species this scheme targets. Please use NCBI taxonomy ids  [required]</li> <li><code>--authors TEXT</code>: Any authors  [required]</li> <li><code>--schemestatus [withdrawn|deprecated|autogenerated|draft|tested|validated]</code>: Scheme status  [default: draft]</li> <li><code>--citations TEXT</code>: Any associated citations. Please use DOI</li> <li><code>--primerbed PATH</code>: Manually specify the primer bed file, default is *primer.bed</li> <li><code>--reference PATH</code>: Manually specify the reference.fasta file, default is *.fasta</li> <li><code>--output PATH</code>: Where to output the scheme  [default: primerschemes]</li> <li><code>--configpath PATH</code>: Where the config.json file is located</li> <li><code>--algorithmversion TEXT</code>: The version of primalscheme or other</li> <li><code>--description TEXT</code>: A description of the scheme</li> <li><code>--derivedfrom TEXT</code>: Which scheme has this scheme been derived from</li> <li><code>--primerclass [primerschemes]</code>: The primer class  [default: primerschemes]</li> <li><code>--collection [ARTIC|MODJADJI|QUICK-LAB|COMMUNITY|WASTE-WATER|CLINICAL-ISOLATES|WHOLE-GENOME|PANEL|MULTI-TARGET]</code>: The collection</li> <li><code>--link-protocol TEXT</code>: Optional link to protocol</li> <li><code>--link-validation TEXT</code>: Optional link to validation data</li> <li><code>--links-homepage TEXT</code>: Optional link to homepage</li> <li><code>--link-vendor TEXT</code>: Optional link to vendors</li> <li><code>--link-misc TEXT</code>: Optional miscellaneous link</li> <li><code>--fix / --no-fix</code>: Attempt to fix the scheme  [default: no-fix]</li> <li><code>--help</code>: Show this message and exit.</li> </ul>"},{"location":"cli/#primal-page-download","title":"<code>primal-page download</code>","text":"<p>Download schemes from the index.json</p> <p>Usage:</p> <pre><code>$ primal-page download [OPTIONS] COMMAND [ARGS]...\n</code></pre> <p>Options:</p> <ul> <li><code>--help</code>: Show this message and exit.</li> </ul> <p>Commands:</p> <ul> <li><code>all</code>: Download all schemes from the index.json</li> <li><code>scheme</code>: Download a scheme from the index.json</li> </ul>"},{"location":"cli/#primal-page-download-all","title":"<code>primal-page download all</code>","text":"<p>Download all schemes from the index.json</p> <p>Usage:</p> <pre><code>$ primal-page download all [OPTIONS]\n</code></pre> <p>Options:</p> <ul> <li><code>--output PATH</code>: The directory the primerschemes dir will be created in  [required]</li> <li><code>--index-url TEXT</code>: The URL to the index.json  [default: https://raw.githubusercontent.com/quick-lab/primerschemes/main/index.json]</li> <li><code>--help</code>: Show this message and exit.</li> </ul>"},{"location":"cli/#primal-page-download-scheme","title":"<code>primal-page download scheme</code>","text":"<p>Download a scheme from the index.json</p> <p>Usage:</p> <pre><code>$ primal-page download scheme [OPTIONS] SCHEMENAME AMPLICONSIZE SCHEMEVERSION\n</code></pre> <p>Arguments:</p> <ul> <li><code>SCHEMENAME</code>: The name of the scheme  [required]</li> <li><code>AMPLICONSIZE</code>: Amplicon size  [required]</li> <li><code>SCHEMEVERSION</code>: Scheme version  [required]</li> </ul> <p>Options:</p> <ul> <li><code>--output PATH</code>: The directory the primerschemes dir will be created in  [required]</li> <li><code>--index-url TEXT</code>: The URL to the index.json  [default: https://raw.githubusercontent.com/quick-lab/primerschemes/main/index.json]</li> <li><code>--help</code>: Show this message and exit.</li> </ul>"},{"location":"cli/#primal-page-modify","title":"<code>primal-page modify</code>","text":"<p>Modify an existing scheme's metadata (info.json)</p> <p>Usage:</p> <pre><code>$ primal-page modify [OPTIONS] COMMAND [ARGS]...\n</code></pre> <p>Options:</p> <ul> <li><code>--help</code>: Show this message and exit.</li> </ul> <p>Commands:</p> <ul> <li><code>add-author</code>: Append an author to the authors list in...</li> <li><code>add-citation</code>: Append an citation to the authors list in...</li> <li><code>add-collection</code>: Add a Collection to the Collection list in...</li> <li><code>add-link</code>: Add a link to the selected link field to...</li> <li><code>change-contactinfo</code>: Change the contactinfo field in the info.json</li> <li><code>change-derivedfrom</code>: Replaces the derivedfrom in the info.json...</li> <li><code>change-description</code>: Replaces the description in the info.json...</li> <li><code>change-license</code>: Replaces the license in the info.json file</li> <li><code>change-primerclass</code>: Change the primerclass field in the info.json</li> <li><code>change-status</code>: Change the status field in the info.json</li> <li><code>regenerate</code>: Validates the info.json and regenerate the...</li> <li><code>remove-author</code>: Remove an author from the authors list in...</li> <li><code>remove-citation</code>: Remove an citation form the authors list...</li> <li><code>remove-collection</code>: Remove an Collection from the Collection...</li> <li><code>remove-link</code>: Add a link to the selected link field to...</li> <li><code>reorder-authors</code>: Reorder the authors in the info.json file</li> </ul>"},{"location":"cli/#primal-page-modify-add-author","title":"<code>primal-page modify add-author</code>","text":"<p>Append an author to the authors list in the info.json file</p> <p>Usage:</p> <pre><code>$ primal-page modify add-author [OPTIONS] SCHEMEINFO AUTHOR\n</code></pre> <p>Arguments:</p> <ul> <li><code>SCHEMEINFO</code>: The path to info.json  [required]</li> <li><code>AUTHOR</code>: The author to add  [required]</li> </ul> <p>Options:</p> <ul> <li><code>--author-index INTEGER</code>: The 0-based index to insert the author at. Default is the end  [required]</li> <li><code>--help</code>: Show this message and exit.</li> </ul>"},{"location":"cli/#primal-page-modify-add-citation","title":"<code>primal-page modify add-citation</code>","text":"<p>Append an citation to the authors list in the info.json file</p> <p>Usage:</p> <pre><code>$ primal-page modify add-citation [OPTIONS] SCHEMEINFO CITATION\n</code></pre> <p>Arguments:</p> <ul> <li><code>SCHEMEINFO</code>: The path to info.json  [required]</li> <li><code>CITATION</code>: The citation to add  [required]</li> </ul> <p>Options:</p> <ul> <li><code>--help</code>: Show this message and exit.</li> </ul>"},{"location":"cli/#primal-page-modify-add-collection","title":"<code>primal-page modify add-collection</code>","text":"<p>Add a Collection to the Collection list in the info.json file</p> <p>Usage:</p> <pre><code>$ primal-page modify add-collection [OPTIONS] SCHEMEINFO COLLECTION:{ARTIC|MODJADJI|QUICK-LAB|COMMUNITY|WASTE-WATER|CLINICAL-ISOLATES|WHOLE-GENOME|PANEL|MULTI-TARGET}\n</code></pre> <p>Arguments:</p> <ul> <li><code>SCHEMEINFO</code>: The path to info.json  [required]</li> <li><code>COLLECTION:{ARTIC|MODJADJI|QUICK-LAB|COMMUNITY|WASTE-WATER|CLINICAL-ISOLATES|WHOLE-GENOME|PANEL|MULTI-TARGET}</code>: The Collection to add  [required]</li> </ul> <p>Options:</p> <ul> <li><code>--help</code>: Show this message and exit.</li> </ul>"},{"location":"cli/#primal-page-modify-add-link","title":"<code>primal-page modify add-link</code>","text":"<p>Add a link to the selected link field to the info.json</p> <p>Usage:</p> <pre><code>$ primal-page modify add-link [OPTIONS] SCHEMEINFO LINKFIELD LINK\n</code></pre> <p>Arguments:</p> <ul> <li><code>SCHEMEINFO</code>: The path to info.json  [required]</li> <li><code>LINKFIELD</code>: The link field to add to. protocols, validation, homepage, vendors, misc  [required]</li> <li><code>LINK</code>: The link to add.  [required]</li> </ul> <p>Options:</p> <ul> <li><code>--help</code>: Show this message and exit.</li> </ul>"},{"location":"cli/#primal-page-modify-change-contactinfo","title":"<code>primal-page modify change-contactinfo</code>","text":"<p>Change the contactinfo field in the info.json</p> <p>Usage:</p> <pre><code>$ primal-page modify change-contactinfo [OPTIONS] SCHEMEINFO CONTACTINFO\n</code></pre> <p>Arguments:</p> <ul> <li><code>SCHEMEINFO</code>: The path to info.json  [required]</li> <li><code>CONTACTINFO</code>: The contact information for this scheme. Use 'None' to remove the contact info  [required]</li> </ul> <p>Options:</p> <ul> <li><code>--help</code>: Show this message and exit.</li> </ul>"},{"location":"cli/#primal-page-modify-change-derivedfrom","title":"<code>primal-page modify change-derivedfrom</code>","text":"<p>Replaces the derivedfrom in the info.json file</p> <p>Usage:</p> <pre><code>$ primal-page modify change-derivedfrom [OPTIONS] SCHEMEINFO DERIVEDFROM\n</code></pre> <p>Arguments:</p> <ul> <li><code>SCHEMEINFO</code>: The path to info.json  [required]</li> <li><code>DERIVEDFROM</code>: The new derivedfrom. Use 'None' to remove the derivedfrom  [required]</li> </ul> <p>Options:</p> <ul> <li><code>--help</code>: Show this message and exit.</li> </ul>"},{"location":"cli/#primal-page-modify-change-description","title":"<code>primal-page modify change-description</code>","text":"<p>Replaces the description in the info.json file</p> <p>Usage:</p> <pre><code>$ primal-page modify change-description [OPTIONS] SCHEMEINFO DESCRIPTION\n</code></pre> <p>Arguments:</p> <ul> <li><code>SCHEMEINFO</code>: The path to info.json  [required]</li> <li><code>DESCRIPTION</code>: The new description. Use 'None' to remove the description  [required]</li> </ul> <p>Options:</p> <ul> <li><code>--help</code>: Show this message and exit.</li> </ul>"},{"location":"cli/#primal-page-modify-change-license","title":"<code>primal-page modify change-license</code>","text":"<p>Replaces the license in the info.json file</p> <p>Usage:</p> <pre><code>$ primal-page modify change-license [OPTIONS] SCHEMEINFO LICENSE\n</code></pre> <p>Arguments:</p> <ul> <li><code>SCHEMEINFO</code>: The path to info.json  [required]</li> <li><code>LICENSE</code>: The new license. Use 'None' show the work is not licensed (Not recommended)  [required]</li> </ul> <p>Options:</p> <ul> <li><code>--help</code>: Show this message and exit.</li> </ul>"},{"location":"cli/#primal-page-modify-change-primerclass","title":"<code>primal-page modify change-primerclass</code>","text":"<p>Change the primerclass field in the info.json</p> <p>Usage:</p> <pre><code>$ primal-page modify change-primerclass [OPTIONS] SCHEMEINFO PRIMERCLASS:{primerschemes}\n</code></pre> <p>Arguments:</p> <ul> <li><code>SCHEMEINFO</code>: The path to info.json  [required]</li> <li><code>PRIMERCLASS:{primerschemes}</code>: The primerclass to change to  [required]</li> </ul> <p>Options:</p> <ul> <li><code>--help</code>: Show this message and exit.</li> </ul>"},{"location":"cli/#primal-page-modify-change-status","title":"<code>primal-page modify change-status</code>","text":"<p>Change the status field in the info.json</p> <p>Usage:</p> <pre><code>$ primal-page modify change-status [OPTIONS] SCHEMEINFO [SCHEMESTATUS]:[withdrawn|deprecated|autogenerated|draft|tested|validated]\n</code></pre> <p>Arguments:</p> <ul> <li><code>SCHEMEINFO</code>: The path to info.json  [required]</li> <li><code>[SCHEMESTATUS]:[withdrawn|deprecated|autogenerated|draft|tested|validated]</code>: The scheme class  [default: draft]</li> </ul> <p>Options:</p> <ul> <li><code>--help</code>: Show this message and exit.</li> </ul>"},{"location":"cli/#primal-page-modify-regenerate","title":"<code>primal-page modify regenerate</code>","text":"<p>Validates the info.json and regenerate the README.md</p> <p>Usage:</p> <pre><code>$ primal-page modify regenerate [OPTIONS] SCHEMEINFO\n</code></pre> <p>Arguments:</p> <ul> <li><code>SCHEMEINFO</code>: The path to info.json  [required]</li> </ul> <p>Options:</p> <ul> <li><code>--help</code>: Show this message and exit.</li> </ul>"},{"location":"cli/#primal-page-modify-remove-author","title":"<code>primal-page modify remove-author</code>","text":"<p>Remove an author from the authors list in the info.json file</p> <p>Usage:</p> <pre><code>$ primal-page modify remove-author [OPTIONS] SCHEMEINFO AUTHOR\n</code></pre> <p>Arguments:</p> <ul> <li><code>SCHEMEINFO</code>: The path to info.json  [required]</li> <li><code>AUTHOR</code>: The author to remove  [required]</li> </ul> <p>Options:</p> <ul> <li><code>--help</code>: Show this message and exit.</li> </ul>"},{"location":"cli/#primal-page-modify-remove-citation","title":"<code>primal-page modify remove-citation</code>","text":"<p>Remove an citation form the authors list in the info.json file</p> <p>Usage:</p> <pre><code>$ primal-page modify remove-citation [OPTIONS] SCHEMEINFO CITATION\n</code></pre> <p>Arguments:</p> <ul> <li><code>SCHEMEINFO</code>: The path to info.json  [required]</li> <li><code>CITATION</code>: The citation to remove  [required]</li> </ul> <p>Options:</p> <ul> <li><code>--help</code>: Show this message and exit.</li> </ul>"},{"location":"cli/#primal-page-modify-remove-collection","title":"<code>primal-page modify remove-collection</code>","text":"<p>Remove an Collection from the Collection list in the info.json file</p> <p>Usage:</p> <pre><code>$ primal-page modify remove-collection [OPTIONS] SCHEMEINFO COLLECTION:{ARTIC|MODJADJI|QUICK-LAB|COMMUNITY|WASTE-WATER|CLINICAL-ISOLATES|WHOLE-GENOME|PANEL|MULTI-TARGET}\n</code></pre> <p>Arguments:</p> <ul> <li><code>SCHEMEINFO</code>: The path to info.json  [required]</li> <li><code>COLLECTION:{ARTIC|MODJADJI|QUICK-LAB|COMMUNITY|WASTE-WATER|CLINICAL-ISOLATES|WHOLE-GENOME|PANEL|MULTI-TARGET}</code>: The Collection to remove  [required]</li> </ul> <p>Options:</p> <ul> <li><code>--help</code>: Show this message and exit.</li> </ul>"},{"location":"cli/#primal-page-modify-remove-link","title":"<code>primal-page modify remove-link</code>","text":"<p>Add a link to the selected link field to the info.json</p> <p>Usage:</p> <pre><code>$ primal-page modify remove-link [OPTIONS] SCHEMEINFO LINKFIELD LINK\n</code></pre> <p>Arguments:</p> <ul> <li><code>SCHEMEINFO</code>: The path to info.json  [required]</li> <li><code>LINKFIELD</code>: The link field to remove from. protocols, validation, homepage, vendors, misc  [required]</li> <li><code>LINK</code>: The link to remove.  [required]</li> </ul> <p>Options:</p> <ul> <li><code>--help</code>: Show this message and exit.</li> </ul>"},{"location":"cli/#primal-page-modify-reorder-authors","title":"<code>primal-page modify reorder-authors</code>","text":"<p>Reorder the authors in the info.json file</p> <p>Usage:</p> <pre><code>$ primal-page modify reorder-authors [OPTIONS] SCHEMEINFO [AUTHOR_INDEX]\n</code></pre> <p>Arguments:</p> <ul> <li><code>SCHEMEINFO</code>: The path to info.json  [required]</li> <li><code>[AUTHOR_INDEX]</code>: The indexes in the new order, separated by spaces. e.g. 1 0 2. Any indexes not provided will be appended to the end</li> </ul> <p>Options:</p> <ul> <li><code>--help</code>: Show this message and exit.</li> </ul>"},{"location":"cli/#primal-page-remove","title":"<code>primal-page remove</code>","text":"<p>Remove a scheme's version from the repo, will also remove size and schemename directories if empty</p> <p>Usage:</p> <pre><code>$ primal-page remove [OPTIONS] SCHEMEINFO\n</code></pre> <p>Arguments:</p> <ul> <li><code>SCHEMEINFO</code>: The path to info.json  [required]</li> </ul> <p>Options:</p> <ul> <li><code>--help</code>: Show this message and exit.</li> </ul>"},{"location":"examples/","title":"Adding a scheme","text":"<p>See primal-page create full details.</p> <p>To add a scheme into <code>quick-lab/primerschemes</code>, primal-page is used to create the info.json metadata file and insure all the files are in the correct format. </p>"},{"location":"examples/#creating-a-scheme-from-primalscheme1-files","title":"Creating a scheme from primalscheme(1) files","text":""},{"location":"examples/#primerbed","title":".primer.bed","text":"<p>From primalscheme a file should be output called <code>{scheme-name}.primer.bed</code>. This file contains all the data needed to produce the primer scheme.</p> <p>Old version of primalscheme do not contains the 7th column (PrimerSequence)</p> <p></p>"},{"location":"examples/#manual-editing-of-files","title":"Manual editing of files","text":"<p>Do not do this unless you have to.</p> <p>If you edit the <code>info.json</code> use <code>primal-page modify regenerate {info.json}</code> to validate the changes, and regenerate the README.md</p> <p>If you edit the <code>primer.bed</code> or <code>reference.fasta</code> use <code>primal-page dev regenerate {info.json}</code> to update the hashes in info.json need to be updated.</p> <p>If you are editing <code>primer.bed</code> or <code>reference.fasta</code> something has gone wrong</p>"},{"location":"examples/#modifying-cascade-graph","title":"Modifying cascade graph","text":"<pre><code>flowchart TD\n\ninfo[info.json]\nreadme[README.md]\nprimer[primer.bed]\nref[reference.fasta]\n\n\ninfo --&gt;|Embedded| readme\n\nprimer --&gt;|md5 hash| info\nref --&gt;|md5 hash| info\n</code></pre>"}]}